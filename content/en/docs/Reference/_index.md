---
title: Command reference
description: All EZClassifier command syntax and options
weight: 9
---

All the services offered by EZClassifier can be accessed using the command through the `ezc` command. 
See the [getting started section](/docs/getting-started) for the instructions for  downloading and installing it.

## General syntax

For java JRE 17+ is required:
```
java --jar ezc.jar (model [ model options ]) | (classify [ classify options ]) [ common options ]
```

The command returns 0 on success  or a value > 0 on failure. The logs are written on stdout by default and can be redirected.


**Common options:**

`-h, --help`
: Prints brief usage information.

`-k, --apikey`
: A registered API key. If not present the value in the env variable APIKEY is used

`-S, --strict`
: Runs the program in strict mode: any partially recoverable exception thrown during the execution (i.e. a classification that fails or a row that can't be parsed) will stop the program truncating the output to the last stable state. If not run in strict mode, the application will try to compensate for as many errors as it's possible.

`-v, --version`
: prints the command version


### Command to create a new model from your example data
```
java --jar ezc.jar model [options ]
```

**Options for model command:**

`-i, --input`
: The examples input stream, by default "-" that means std in (e.g. -i - ). The stream is supposed to be in CSV format and MUST contain two fields ("prototype" and "class") plus an optional field "weight" ranging from 0 to 1 (1 by default). The first line MUST be a header (ignored). Only the first 1000 rows are considered

`-o, --outputfile`
: The model generated, by default model.tc in the current directory

`-P, --prototypeindex`
: The index in the csv file that contains the field  with the text classified (from 0). By default, the index is 0

`-C, --classindex`
: The index in the csv file that contains the field  with the text classified (from 0). By default, the index is 0

`-W, --weightindex`
: The index in the csv file that contains the field  with the text classified (from 0). By default, the index is 0

`-H, --header`
: If the flag is present the first line of the input stream is to be copied to output adding ",class,similarity". By default, it is assumed that the input has no header



### Command to classify a csv data stream
```
java --jar ezc.jar classify [options ]
```

#### Options for classify command

`-i, --input` 
: The input stream, by default "-" that means std in (e.g. -i - ). The stream is supposed to be in CSV format

`-I, --index`
: The index in the csv file that contains the field to classify (from 0). By default, the index is 0

`-H, --header`
: If the flag is present the first line of the input stream is to be copied to output adding ",class,similarity". By default, it is assumed that the input has no header

`-m, --model`
: Path to the model file generated by the "model" command. By default, it uses the file model.tc in current directory

`-o, --outputfile`
: Path to the output file where classified text will be written. If not specified, the default path is used. By default, it generates the file out.csv. The output file has the same columns as the input file, with two added fields: the found class and a similarity

`-M, --maxbatchtext`
: Number between 1 and 16 specifying how many text lines will be embedded in one API call. If not specified, the default value is 16

`-t, --threshold`
: Number between 0 (not included) and 1 (included) that is used to determine whether a match 'similarity' is too low to be considered valid. In this case, the 'class' is set to 'OTHER'. Default value is 0.84

`-T, --threads`
: the number of parallel tasks to be used by the  classification services, by default is 1. If ore than 1 is used, then the output order could not be the same of the input data order

